<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>crypter</title>
  </head>
  <body>
    <script type="module">
      import init from "./crypter.js";

      init("./crypter_bg.wasm").then(() => {
        const crypter = import('./crypter.js')
        crypter.then(c => {
          const encoder = new TextEncoder();
          const key = encoder.encode('super_mega_ultra_secret_01234567');
          const encrypted = c.encrypt(key, encoder.encode('mega ultra safe payload'));
          const decrypted = c.decrypt(key, encrypted);
          console.log('Encrypted:', new TextDecoder().decode(decrypted));
        });
      });
    </script>
  </body>
</html>
